# myclients
#### Автор проекта - Алексей Карташов

## Введение
myclients - сервис для записи и учёта клиентов, работает по принципу CRM-систем. Приложение имеет функционал как для
клиентов, так и для сотрудников и администраторов. Пользовательский интерфейс реализован с помощью фреймворка PyQt6.

## Установка
_Приложение разрабатывалось под ОС Windows_

Для установки приложения:
1. Распакуйте архив с файлами в нужную вам директорию.
2. Откройте терминал в директории проекта.
3. Выполните команду для установки зависимостей.
```commandline
pip install -r requirements.txt
```
4. Запустите приложение, открыв файл `myclients.exe`
5. Для удобной последующей работой с ним можно создать ярлык.

## Описание конечных технологий
+ `Python3`: Основной язык программирования для реализации проекта.
+ `PyQt6`: Фреймворк для создания пользовательского интерфейса.
+ `QSS`: Таблицы стилей для Qt.
+ `SQlite3`: Библиотека для работы с базами данных.
+ `pandas`: Библиотека для удобной работы с таблицами и выгрузки файлов.
+ `hashlib`: Библиотека для хэширования данных.

## Описание структуры классов программы
+ Класс `DB` предоставляет подключение к базе данных `SQLite`.
  + Имеет статический метод `get_sql` для удобного открытия и чтения `sql` файлов.
+ Класс `Authorization` - виджет для авторизации и регистрации в приложении.
+ Класс `AdminMain` - главное окно с интерфейсом для администраторов.
  + Главная страница
  + Страница управления расписанием сотрудников
  + Страница с клиентами
  + Страница с записями в организацию
+ Класс `WorkerMain` - главное окно с интерфейсом для сотрудников.
  + Страница с записями
  + Страница с расписанием
  + Страница с клиентами
+ Класс `UserMain` - главное окно с интерфейсом для клиетнов.
  + Страница с записями - текущими и прошедшими.
  + Страница с избранным

## Описание структуры базы данных
+ `branches` - таблица с филиалами компаний и информацией о них.
  + `company` - внешний ключ к таблице `companies`.
+ `companies` - таблица с компаниями и информацией о них.
  + `admin` - администратор компании, внешний ключ к таблице `users`.
  + `key` - внешний ключ к таблице `keys`, номер ключа которым активирован продукт.
+ `keys` - список хешированных ключей и их статус.
+ `records` - список записей и их параметры:
  + `user` - id клиента, внешний ключ к таблице `users`.
  + `company` - id компании, в которую записался клиент, внешний ключ к таблице `companies`.
  + `branch` - id филиала, в который записался клиент, внешний ключ к таблице `branches`.
  + `worker` - id сотрудника, который должен оказать услугу, внешний ключ к таблице `users`.
  + `service` - id услуги, которую выбрал клиент, внешний ключ к таблице `services`.
+ `schedules` - таблица со всеми доступными для записи датами и временами.
  + `worker` - id сотрудника, к которому привязано время, внешний ключ к таблице `users`.
+ `services` - таблица со всеми оказываемыми услугами.
+ `users` - таблица со всеми пользователями и их данными.
  + `company` - _необязательный внешний ключ, только для администраторов и сотрудников_
    + для администраторов - компания, которой он управляет, внешний ключ к таблице `companies`
    + для сотрудников - филиал, на котором работает сотрудник, внешний ключ к таблице `branches`
  + `key` - _необязательный внешний ключ, только для администраторов_
    + ключ, которым активирован продукт, внешний ключ к таблице `keys`
